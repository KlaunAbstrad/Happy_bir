<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8" />
  <title>å°ç¾Šä½ æœ‰ä¿¡å“¦å°ç¾Š</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <style>
    * {
      box-sizing: border-box;
      -webkit-tap-highlight-color: transparent;
    }
    body {
      margin: 0;
      font-family: system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", sans-serif;
      background: radial-gradient(circle at top, #ffe7f2 0%, #ffeef7 35%, #f6f2ff 70%, #fcefdc 100%);
      overflow: hidden;
      height: 100vh;
      color: #333;
    }
    .scene {
      position: relative;
      width: 100vw;
      height: 100vh;
      overflow: hidden;
    }
    .hidden {
      display: none;
    }

    /* å°èƒŒæ™¯å…ƒç´  */
    .bg-icon {
      position: absolute;
      font-size: 20px;
      opacity: 0.6;
      animation: floatBg 6s ease-in-out infinite alternate;
      pointer-events: none;
      z-index: 1;
    }
    @keyframes floatBg {
      from { transform: translateY(0) scale(1); }
      to   { transform: translateY(-12px) scale(1.05); }
    }

    /* ç…§ç‰‡ï¼šåˆå§‹åœ¨ä¸­é—´ï¼Œç‚¹å‡»åé£å‘å·¦ä¸Š / å³ä¸‹ï¼Œç•¥å¾®æ—‹è½¬ */
    .photo {
      position: absolute;
      top: 50%;
      left: 50%;
      width: min(42vw, 180px);
      max-width: 180px;
      aspect-ratio: 3 / 4;     /* çºµå‘ç…§ç‰‡æ¯”è¾ƒå¥½çœ‹ï¼ŒæŒ‰éœ€æ”¹ */
      object-fit: cover;
      border-radius: 18px;
      box-shadow: 0 18px 40px rgba(0, 0, 0, 0.28);
      opacity: 0;
      transform: translate(-50%, -50%) scale(0.4);
      pointer-events: none;
      z-index: 2;               /* åœ¨å¡ç‰‡ä¸‹é¢ã€å¼¹çª—ä¸Šé¢ */
    }

    .photo-left.animate-left {
      animation: photoLeft 1s ease-out forwards;
    }
    .photo-right.animate-right {
      animation: photoRight 1s ease-out forwards;
    }

    @keyframes photoLeft {
      0% {
        opacity: 0;
        transform: translate(-50%, -50%) scale(0.3) rotate(0deg);
      }
      40% {
        opacity: 1;
      }
      100% {
        opacity: 0.95;
        /* ä»ä¸­é—´é£åˆ°å·¦ä¸Šè§’ä¸€å¸¦ï¼Œç•¥å¾®æ—‹è½¬ */
        transform: translate(-125%, -120%) scale(0.9) rotate(-12deg);
      }
    }

    @keyframes photoRight {
      0% {
        opacity: 0;
        transform: translate(-50%, -50%) scale(0.3) rotate(0deg);
      }
      40% {
        opacity: 1;
      }
      100% {
        opacity: 0.95;
        /* ä»ä¸­é—´é£åˆ°å³ä¸‹è§’ä¸€å¸¦ï¼Œç•¥å¾®æ—‹è½¬ */
        transform: translate(15%, 65%) scale(0.9) rotate(10deg);
      }
    }

    /* åœºæ™¯1ï¼šä¿¡ä»¶å¼¹çª— */
    .intro-wrapper {
      position: absolute;
      inset: 0;
      display: flex;
      justify-content: center;
      align-items: center;
      padding: 20px;
      z-index: 5;
    }
    .letter-card {
      width: 94vw;
      max-width: 360px;
      background: #ffffff;
      border-radius: 18px;
      box-shadow: 0 16px 40px rgba(255, 126, 168, 0.4);
      padding: 18px 18px 16px;
      text-align: center;
      animation: popIn 0.6s ease-out;
      position: relative;
    }
    @keyframes popIn {
      0%   { opacity: 0; transform: translateY(24px) scale(0.92); }
      60%  { opacity: 1; transform: translateY(-4px) scale(1.02); }
      100% { transform: translateY(0) scale(1); }
    }
    .letter-card.fade-out {
      animation: fadeOutUp 0.7s ease forwards;
    }
    @keyframes fadeOutUp {
      to {
        opacity: 0;
        transform: translateY(-24px) scale(0.96);
      }
    }
    .letter-header {
      display: flex;
      align-items: center;
      justify-content: center;
      gap: 6px;
      padding: 6px 10px;
      border-radius: 999px;
      background: linear-gradient(90deg, #ff9ac4, #ffb6d9);
      color: #fff;
      font-size: 13px;
      margin-bottom: 10px;
    }
    .letter-header span {
      font-size: 15px;
    }
    .letter-title {
      font-weight: 600;
    }
    .letter-body {
      font-size: 14px;
      line-height: 1.6;
      margin: 8px 0 16px;
    }
    .letter-btn {
      display: inline-block;
      border: none;
      outline: none;
      cursor: pointer;
      padding: 10px 36px;
      border-radius: 999px;
      background: linear-gradient(135deg, #ff7db3, #ffb9d9);
      color: #fff;
      font-size: 14px;
      font-weight: 600;
      box-shadow: 0 10px 24px rgba(255, 126, 168, 0.6);
      animation: pulse 1.4s ease-in-out infinite;
    }
    @keyframes pulse {
      0%   { transform: translateY(0) scale(1); box-shadow: 0 10px 24px rgba(255, 126, 168, 0.58); }
      50%  { transform: translateY(-2px) scale(1.03); box-shadow: 0 14px 32px rgba(255, 126, 168, 0.75); }
      100% { transform: translateY(0) scale(1); box-shadow: 0 10px 24px rgba(255, 126, 168, 0.58); }
    }
    .letter-tip {
      margin-top: 10px;
      font-size: 11px;
      opacity: 0.7;
    }

    /* åœºæ™¯2ï¼šé“ºæ»¡å±å¹•çš„ç¥ç¦å¡ç‰‡ */
    .cards-wrapper {
      position: absolute;
      inset: 0;
      padding: 20px 14px 20px;
      z-index: 3;  /* åœ¨ç…§ç‰‡ä¸Šå±‚ */
    }
    .cards-header {
      position: absolute;
      top: 10px;
      left: 50%;
      transform: translateX(-50%);
      padding: 6px 14px;
      border-radius: 999px;
      background: rgba(255,255,255,0.88);
      font-size: 12px;
      box-shadow: 0 10px 26px rgba(255, 126, 168, 0.45);
      backdrop-filter: blur(10px);
      z-index: 5;
    }
    .cards-header span {
      font-size: 14px;
      margin-right: 4px;
    }
    #cardContainer {
      position: relative;
      width: 100%;
      height: 100%;
    }

    .card {
      position: absolute;
      width: 68vw;
      max-width: 260px;
      border-radius: 14px;
      box-shadow: 0 16px 40px rgba(191, 144, 193, 0.45);
      overflow: hidden;
      font-size: 14px;
      opacity: 0;
      pointer-events: none;
      animation: bubbleLife 4s ease-in-out forwards;
      z-index: 4;
    }

    /* 4 ç§’å†…ï¼šå¿«é€Ÿå‡ºç° â†’ åœç•™ â†’ æ…¢æ…¢æ¶ˆå¤± */
    @keyframes bubbleLife {
      0% {
        opacity: 0;
        transform: translateY(16px) scale(0.9) rotate(var(--card-rotate));
      }
      20% {
        opacity: 1;
        transform: translateY(0) scale(1) rotate(var(--card-rotate));
      }
      75% {
        opacity: 1;
        transform: translateY(-3px) scale(1.02) rotate(var(--card-rotate));
      }
      100% {
        opacity: 0;
        transform: translateY(-14px) scale(1.03) rotate(var(--card-rotate));
      }
    }

    .card-inner {
      padding: 8px 10px 10px;
    }
    .card-topbar {
      display: flex;
      align-items: center;
      gap: 6px;
      margin-bottom: 6px;
      font-size: 11px;
      opacity: 0.85;
    }
    .dot {
      width: 7px;
      height: 7px;
      border-radius: 50%;
    }
    .card-title-text {
      font-weight: 600;
    }
    .card-text {
      font-size: 14px;
      line-height: 1.5;
    }

    .hint-bottom {
      position: absolute;
      bottom: 10px;
      left: 50%;
      transform: translateX(-50%);
      font-size: 11px;
      opacity: 0.75;
      text-align: center;
      padding: 4px 10px;
      border-radius: 999px;
      background: rgba(255, 255, 255, 0.85);
      backdrop-filter: blur(6px);
      z-index: 5;
    }

    @media (max-width: 420px) {
      .card {
        width: 78vw;
      }
      .letter-card {
        padding: 16px 14px 14px;
      }
    }
  </style>
</head>
<body>
  <div class="scene" id="sceneMain">
    <!-- èƒŒæ™¯å°å…ƒç´  -->
    <div class="bg-icon" style="left:14%; top:18%;">ğŸ’—</div>
    <div class="bg-icon" style="left:76%; top:22%; animation-delay:0.6s;">âœ¨</div>
    <div class="bg-icon" style="left:10%; top:70%; animation-delay:0.2s;">ğŸ±</div>
    <div class="bg-icon" style="left:82%; top:72%; animation-delay:0.9s;">â­</div>
    <div class="bg-icon" style="left:20%; top:35%; animation-delay:0.3s;">ğŸ±</div>
    <div class="bg-icon" style="left:35%; top:80%; animation-delay:0.8s;">ğŸ˜º</div>
    <div class="bg-icon" style="left:60%; top:50%; animation-delay:1.2s;">ğŸ±</div>
    <div class="bg-icon" style="left:88%; top:40%; animation-delay:1.6s;">ğŸ˜¸</div>

    <!-- ä¸¤å¼ æœ¬åœ°ç…§ç‰‡ï¼šè®°å¾—æŠŠ src æ¢æˆä½ çš„æ–‡ä»¶å -->
    <img id="photoLeft"  class="photo photo-left"  src="photo1.jpg" alt="photo1" />
    <img id="photoRight" class="photo photo-right" src="photo2.jpg" alt="photo2" />

    <!-- å¼€å¤´çš„â€œç”Ÿæ—¥åŒ¿åä¿¡â€å¼¹çª— -->
    <div class="intro-wrapper">
      <div class="letter-card" id="letterCard">
        <div class="letter-header">
          <span>âœ‰</span>
          <span class="letter-title">BingGo!!!</span>
        </div>
        <div class="letter-body">
          å¥½åƒæ˜¯1500å…¬é‡Œå¤–æ—©åˆ°çš„ä¿¡ç¬ºï¼Œ<br>
          ç¡®å®šè¦æ‰“å¼€çœ‹çœ‹å—ï¼Ÿ
        </div>
        <button class="letter-btn" id="openLetterBtn">ç¡®å®šæ‰“å¼€</button>
        <div class="letter-tip">å°æç¤ºï¼šé‡Œé¢è£…çš„æ˜¯ 100% ç”œåº¦çš„ç¥ç¦ âœ¨</div>
      </div>
    </div>

    <!-- ç¥ç¦å°å¡ç‰‡åŒºåŸŸ -->
    <div class="cards-wrapper hidden" id="cardsWrapper">
      <div class="cards-header">
        <span>ğŸ€</span> ç”Ÿæ—¥å¿«ä¹å—·ææº¢é˜³
      </div>
      <div id="cardContainer"></div>
      <div class="hint-bottom">ç…§ç‰‡ä¼šä¸€ç›´é™ªç€ä½ ï¼Œå°å¡ç‰‡ä¹Ÿä¼šåœ¨æ•´ä¸ªå±å¹•é‡Œæ…¢æ…¢å‡ºç°åˆæ¶ˆå¤± ğŸ’•</div>
    </div>
  </div>

  <!-- èƒŒæ™¯éŸ³ä¹ï¼šæŠŠ bgm.mp3 æ¢æˆä½ çš„éŸ³ä¹æ–‡ä»¶åæˆ–åœ¨çº¿é“¾æ¥ -->
  <audio id="bgm" src="bgm.m4a" loop></audio>

  <script>
    // ===== 1. ç¥ç¦å†…å®¹ï¼šåœ¨è¿™é‡Œå†™ä½ çš„ç¥ç¦ =====
    const messages = [
      "ä»Šå¹´çš„æ„¿æœ›å¾ˆç®€å•ï¼šæˆ‘å¸Œæœ›ä½ å¹³å®‰å¥åº·ï¼ŒçœŸå¿ƒå¿«ä¹ï¼Œç„¶åæ‰€æœ‰ä½ å·å·è®¸ä¸‹çš„æ„¿æœ›éƒ½èƒ½æ…¢æ…¢é•¿æˆç°å®ã€‚",
      "æ–°çš„ä¸€å²ï¼Œä¸å¿…å¤ªæ‡‚äº‹ï¼Œä¹Ÿè¦è¢«æ¸©æŸ”å¯¹å¾…ã€‚å¥½å¥½çˆ±è‡ªå·±ï¼Œç„¶åå†å»æ‹¥æŠ±æ•´ä¸ªä¸–ç•Œã€‚",
      "æ„¿ä½ ä»¥åæ‰€æœ‰çš„çƒ¦æ¼ï¼Œéƒ½ä¼šè¢«å¥½åƒçš„ã€å¥½ç¡è§‰å’Œå¥½æœ‹å‹ä¸€ç‚¹ç‚¹èåŒ–æ‰ã€‚",
      "æƒ³æŠŠä»Šå¤©çš„å¥½å¿ƒæƒ…æ‰“åŒ…é€ç»™ä½ ï¼šæŠŠå‹åŠ›å…³æœºï¼ŒæŠŠå¿«ä¹é‡å¯ï¼ŒæŠŠå¥½è¿è®¾ç½®æˆè‡ªåŠ¨ç»­è´¹ã€‚",
      "æ„¿ä½ æ°¸è¿œæœ‰åº•æ°”è¯´å‡ºé‚£å¥ï¼šæ²¡å…³ç³»ï¼Œæˆ‘è¿˜æœ‰è‡ªå·±ï¼Œè¿˜æœ‰å¾ˆå¤šå¾ˆå¤šä¸ªæ˜å¤©ã€‚",
      "å¸Œæœ›ä½ æ°¸è¿œåƒå°å­©ä¸€æ ·ï¼Œå¯¹ç”Ÿæ´»ä¿æŒå¥½å¥‡ï¼Œå¯¹å–œæ¬¢çš„äººå¦è¡åˆçƒ­çƒˆã€‚",
      "æ„¿ä½ ï¼šçˆ±è‡ªå·±æœ‰åº•æ°”ï¼Œè¢«çˆ±æ—¶æœ‰å›åº”ï¼Œå¤±è½æ—¶æœ‰åœ°æ–¹å¯ä»¥èº²ä¸€èº²ã€‚",
      "å¦‚æœä¸–ç•Œå¶å°”å¯¹ä½ ä¸å¤ªæ¸©æŸ”ï¼Œé‚£å°±ç”±æˆ‘æ¥å¤šå–œæ¬¢ä½ ä¸€ç‚¹ç‚¹ï¼Œå¸®ä½ æŠŠä¸å¼€å¿ƒç›–è¿‡å»ã€‚",
      "æ„¿ä½ ä¸è¢«ç”Ÿæ´»ç£¨å¹³æ£±è§’ï¼Œä¹Ÿä¸å› ç°å®å¤±å»å…‰èŠ’ï¼Œä¸€ç›´åšå‹‡æ•¢åˆæŸ”è½¯çš„è‡ªå·±ã€‚",
      "é«˜ä¸­å¾ˆè¾›è‹¦å•¦ï¼Œä¸è¿‡ä¹Ÿä¸è¦ç°å¿ƒå˜›ï¼Œä½ æ˜¯æœ€æ£’çš„å°ç¾Š~å¯¹å§ï¼",
      "å“¦å¯¹ï¼Œè¿˜æœ‰ï¼Œè€ƒè¯•åŠ æ²¹å•Šå“ˆå“ˆå“ˆå“ˆå“ˆå“ˆå“ˆå“ˆå“ˆå“ˆ",
      "ä¸çŸ¥é“æˆ‘ä»¬ä¼šè®¤è¯†å¤šä¹…è¯¶ï¼Œç½‘å‹å˜›æ¯•ç«Ÿå˜¿å˜¿ï¼Œä¸è¿‡æ— è®ºæ€æ ·ï¼Œéƒ½å¸Œæœ›ä½ å›æƒ³èµ·è¿™ä¸ªç”Ÿæ—¥çš„æ—¶å€™ï¼Œèƒ½è®°å¾—è‡ªå·±è¢«å¥½å¥½åœ°ç¥ç¦è¿‡ï¼Œè‡³å°‘è¿™æ¬¡æ˜¯å•¦",
      "ä»¥åä½œä¸šè¶Šæ¥è¶Šå¤šåˆ«å“­å“¦å“ˆå“ˆå“ˆï¼Œæ‰¾æˆ‘æ‰¾æˆ‘ç•¥ç•¥ç•¥",
      "æœ‰ç©ºçš„è¯â€”â€”å—¯â€”â€”å…¶å®æ‰¾æˆ‘æ— è®ºä»€ä¹ˆäº‹å§ï¼Œæˆ‘è‚¯å®šéƒ½åœ¨çš„",
      "æœ€åï¼Œèƒ½è®¤è¯†ä½ çœŸçš„æ˜¯ä¸€ä»¶å¾ˆå¹¸è¿çš„äº‹æƒ…"   
    ];

    // å¡ç‰‡èƒŒæ™¯é¢œè‰²ï¼šç²‰è‰²ä¸ºä¸»çš„æµ…è‰²ç³»
    const pastelCards = [
      "#ffe5ef", "#ffe9c8", "#e9f3ff", "#e4ffef",
      "#f1e8ff", "#ffe9f6", "#e8fff7", "#fff4de"
    ];

    const cardContainer = document.getElementById("cardContainer");
    const cardsWrapper  = document.getElementById("cardsWrapper");
    const openLetterBtn = document.getElementById("openLetterBtn");
    const letterCard    = document.getElementById("letterCard");
    const photoLeft     = document.getElementById("photoLeft");
    const photoRight    = document.getElementById("photoRight");
    const bgm           = document.getElementById("bgm");

    // ç‚¹å‡»â€œç¡®å®šæ‰“å¼€â€
    openLetterBtn.addEventListener("click", () => {
      // 1. ä¿¡ä»¶å¡ç‰‡æ·¡å‡º
      letterCard.classList.add("fade-out");

      // 2. ä¸¤å¼ ç…§ç‰‡æ‰‡å½¢é£å¼€
      photoLeft.classList.add("animate-left");
      photoRight.classList.add("animate-right");

      // 2.5 æ’­æ”¾èƒŒæ™¯éŸ³ä¹ï¼ˆæœ‰äº›æ‰‹æœºå¯èƒ½éœ€è¦å†ç‚¹ä¸€æ¬¡ï¼Œä½†ä¸ä¼šæŠ¥é”™ï¼‰
      if (bgm) {
        bgm.play().catch(() => {});
      }

      // 3. ä¸€æ®µæ—¶é—´åï¼Œéšè—å¼¹çª—ï¼Œæ˜¾ç¤ºå¡ç‰‡åŒºåŸŸå¹¶å¼€å§‹å¾ªç¯ç”Ÿæˆç¥ç¦å¡ç‰‡
      setTimeout(() => {
        document.querySelector(".intro-wrapper").classList.add("hidden");
        cardsWrapper.classList.remove("hidden");
        startLoopCards();
      }, 900);  // å’Œç…§ç‰‡åŠ¨ç”»æ—¶é—´å·®ä¸å¤š
    });

    // ===== 2. å°å¡ç‰‡å¾ªç¯ï¼šæ¯ 900ms å‡ºç°ä¸€å¼ ï¼Œ4s ç”Ÿå‘½å‘¨æœŸ =====
    const appearInterval = 900;   // æ¯ 900 ms å‡ºç°ä¸€å¼ 
    const lifeTime      = 4000;   // å•å¼ å¡ç‰‡åŠ¨ç”»æ—¶é—´ï¼ˆå’Œ CSS animation æ—¶é—´ä¸€è‡´ï¼‰

    function startLoopCards() {
      setInterval(() => {
        createRandomCard();
      }, appearInterval);
    }

    function createRandomCard() {
      const msg = messages[Math.floor(Math.random() * messages.length)];
      const card = document.createElement("div");
      card.className = "card";

      // éšæœºé“ºæ»¡æ•´ä¸ªå±å¹•ï¼ˆä¿ç•™ä¸€ç‚¹è¾¹è·ï¼‰
      const topPercent  = 12 + Math.random() * 68;  // 12% ~ 80%
      const leftPercent = 8  + Math.random() * 84;  // 8%  ~ 92%

      const rotateDeg = (Math.random() - 0.5) * 14; // -7 ~ 7 åº¦
      card.style.setProperty("--card-rotate", rotateDeg + "deg");

      card.style.top  = topPercent  + "%";
      card.style.left = leftPercent + "%";

      const bgColor = pastelCards[Math.floor(Math.random() * pastelCards.length)];
      card.style.background = bgColor;

      card.innerHTML = `
        <div class="card-inner">
          <div class="card-topbar">
            <div class="dot" style="background:#ff5f57;"></div>
            <div class="dot" style="background:#ffbd2e;"></div>
            <div class="dot" style="background:#28c840;"></div>
            <span class="card-title-text">æ¸©é¦¨æç¤º</span>
          </div>
          <div class="card-text">${msg}</div>
        </div>
      `;

      cardContainer.appendChild(card);

      // åŠ¨ç”»ç»“æŸåç§»é™¤ï¼Œé¿å… DOM è¶Šå †è¶Šå¤š
      setTimeout(() => {
        card.remove();
      }, lifeTime + 150);
    }
  </script>
</body>
</html>
